<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fagblikk 2025</title>
  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f4f1e5;
      --ink:#2e1d0e;
      --card:#fff4d1;
      --line:#7b5e3d;
      --card-hover:#f9e8b2;
    }
    *{box-sizing:border-box}
    body {
      margin: 0;
      font-family: 'MedievalSharp', cursive;
      background-color: var(--bg);
      color: var(--ink);
    }
    header {
      text-align: center;
      padding: 18px 12px;
      font-size: 2rem;
      background: var(--card);
      border-bottom: 2px solid var(--line);
    }
    #countdown {
      text-align: center;
      font-size: 1.1rem;
      margin: 8px 0 16px;
    }
    /* tile grid */
    #mainMenu{
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      padding: 6px 6px 40px;
      gap:12px;
    }
    .tile {
      flex: 1 1 calc(48% - 12px);
      min-width: 280px;
      max-width: 680px;
      padding: 18px;
      background-color: var(--card);
      border: 2px solid var(--line);
      border-radius: 12px;
      text-align: center;
      cursor: pointer;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.2);
      transition: transform .08s ease, background-color .08s ease;
      user-select: none;
    }
    .tile:active { transform: translateY(1px) }
    .tile:hover { background-color: var(--card-hover); }
    .tile img { display:block; margin:0 auto 8px; height:46px; width:auto }
    .hidden { display:none; }

    /* content pages */
    .page {
      padding: 16px;
      max-width: 820px;
      margin: 0 auto 40px;
    }
    .page h2{ margin-top:0 }
    .btn {
      padding: 10px 18px;
      margin: 10px 6px 0 0;
      font-family: inherit;
      font-size: 1rem;
      background-color: var(--card);
      border: 2px solid var(--line);
      cursor: pointer;
      border-radius: 8px;
    }
    .btn:hover { background-color: var(--card-hover); }
    .quest-list { list-style:none; padding:0; }
    .quest-list li { margin: 10px 0; }
    .checklist { list-style:none; padding:0; }
    .checklist li{ margin:8px 0 }
    .backbar{ padding:8px 16px }
    .gallery img{ max-width:100%; height:auto; display:block; margin:0 auto 16px }
    .result{ margin-top:14px; padding:14px; border:2px dashed var(--line); border-radius:10px; background:#fffdf6 }
    .beer-name{ font-size:1.2rem; font-weight:bold; }
    .subtle{ opacity:.9 }
  </style>
</head>
<body>
  <header>Fagblikk 2025</header>
  <div id="countdown">Nedtelling...</div>

  <!-- MAIN MENU -->
  <div id="mainMenu">
    <div class="tile" onclick="openFagcraftMenu()">World of Fagcraft</div>
    <div class="tile" onclick="openDailyQuests()">Daily Quests</div>
    <div class="tile" onclick="openOlRulett()">√òlrullett</div>
    <div class="tile" onclick="openSlowChat()">G√•r samtalen sakte?</div>
    <div class="tile" onclick="showPage('mykle')">Mykle</div>
    <div class="tile" onclick="showPage('flyreiser')">Flyreiser</div>
    <div class="tile" onclick="showPage('overnatting')">Overnatting</div>
    <div class="tile" onclick="showPage('ol')">Belgiske √∏l</div>
    <div class="tile" onclick="showKontingent('gir')">Kontingentet gir</div>
    <div class="tile" onclick="showKontingent('tar')">Kontingentet tar</div>
    <div class="tile" onclick="incrementCounter()">
      <img src="eirik.png" alt="Eirik Enge" />
      <div>Eirik Enge-counter: <span id="engeCount">0</span></div>
    </div>
  </div>

  <!-- RPG -->
  <div id="rpgContainer" class="hidden page"></div>

  <!-- DAILY QUESTS -->
  <div id="dailyContainer" class="hidden page">
    <h2>Dag 1: Daily Quests</h2>
    <ul class="quest-list" id="dqList">
      <li><label><input type="checkbox" data-key="dq1"> Pils f√∏r flyplassen</label></li>
      <li><label><input type="checkbox" data-key="dq2"> Pils hos Au Pairen</label></li>
      <li><label><input type="checkbox" data-key="dq3"> Pils p√• f√∏rste fly</label></li>
      <li><label><input type="checkbox" data-key="dq4"> Pils p√• flyplassen</label></li>
      <li><label><input type="checkbox" data-key="dq5"> Pils p√• andre fly</label></li>
      <li><label><input type="checkbox" data-key="dq6"> Pr√∏ve en ny √∏l du aldri har smakt</label></li>
      <li><label><input type="checkbox" data-key="dq7"> Spise noe fritert</label></li>
      <li><label><input type="checkbox" data-key="dq8"> Loote en gjenstand</label></li>
      <li><label><input type="checkbox" data-key="dq9"> Hemse</label></li>
    </ul>
    <div class="backbar">
      <button class="btn" onclick="showMainMenu()">Tilbake</button>
    </div>
    <hr/>
    <h3>Dag 2‚Äì4</h3>
    <p>Daily quests for disse dagene vil komme senere.</p>
  </div>

  <!-- GENERIC PAGE CONTAINER -->
  <div id="pageContent" class="hidden page"></div>

  <!-- KONTINGENT -->
  <div id="kontingentContainer" class="hidden page"></div>

  <!-- √òL-ORAKELLET -->
  <div id="orakelContainer" class="hidden page"></div>

  <!-- SLOW CHAT -->
  <div id="slowChatContainer" class="hidden page"></div>

  <script src="rpg.js" defer></script>
  <script>
    // -------- Delte √∏llister (50 stk, vekt p√• Mechelen/Antwerpen) --------
    const BEERS = [
      "Gouden Carolus Classic","Gouden Carolus Tripel","Gouden Carolus Ambrio","Gouden Carolus Hopsinjoor",
      "Gouden Carolus Cuv√©e van de Keizer Imperial Dark","Gouden Carolus Cuv√©e van de Keizer Imperial Blond",
      "Gouden Carolus Whisky Infused","Maneblusser","Maneblusser Lente","De Koninck (Bolleke)",
      "Tripel d‚ÄôAnvers","Wild Jo","Westmalle Tripel","Westmalle Dubbel","Westmalle Extra",
      "Duvel","Vedett Extra Blond","Vedett IPA","Maredsous 10","Maredsous 8","Maredsous 6",
      "Corsendonk Pater Dubbel","Corsendonk Agnus Tripel","Corsendonk Christmas Ale",
      "Schuppenboer Tripel (Het Nest)","Schuppenboer Grand Cru (Het Nest)","HertenHeer (Het Nest)",
      "Orval","Rochefort 10","Rochefort 8","Rochefort 6","Chimay Bl√•","Chimay R√∏d","Chimay Hvit",
      "St. Bernardus Abt 12","St. Bernardus Tripel","St. Bernardus Pater 6","Tripel Karmeliet","La Chouffe",
      "Straffe Hendrik Tripel","Straffe Hendrik Quadrupel","Gulden Draak","Kwak","Delirium Tremens",
      "Delirium Nocturnum","Kasteel Donker","Kasteel Tripel","Poperings Hommelbier","Gouden Carolus Tripel Barrel Aged"
    ];
    const ORACLE_SAYINGS = [
      "Mykle nikker anerkjennende fra Sinte-M√•sen.",
      "Rulle sier: ¬´Dette er faglig sterkt.¬ª",
      "BSM godkjenner via walkie-talkie.",
      "Paven rister p√• hodet, men lar deg passere‚Ä¶ denne gangen.",
      "Eirik Enge teller +1 i horisonten.",
      "Heim E. Vernet mumler misforn√∏yd ‚Äì godt tegn.",
      "DJ H√∏gz setter p√• anthem i Svarttrastvegen.",
      "Kai Andre smiler fra himmelriket.",
      "Bams Hrur bl√•ser r√∏yk og sier: ¬´Caps-l√∏s sone.¬ª",
      "Gossa-Per pr√∏ver √• lagre den i ti √•r ‚Äì stopp ham!"
    ];
    const SLOW_TOPICS = [
      "Mykle","Godt √∏l","Glasshold","Burgere","KFC","Det Arbeiderpartiet gj√∏r feil er...",
      "Wayne Rooney var egentlig god han","Fergekaia i Molde b√∏r flyttes til....",
      "Faen me sjukt med Terje N√¶ss alts√•","Remi N√¶ss sine sykkelferdigheter","Hans Christian Flor",
      "Torbj√∏rn Flor","Holmerns dame","Nass/Na-gramatikk","Antall barn i familien Kolberg",
      "Det Norge mangle ift Belgia √∏lkulturmessig","Her tar folk se en √∏l alts√•",
      "Vurdering av glassenes estetikk","Looting"
    ];

    // -------- Eirik Enge Counter --------
    let engeCounter = parseInt(localStorage.getItem('engeCount') || '0', 10);
    document.addEventListener('DOMContentLoaded', () => {
      const span = document.getElementById('engeCount');
      if (span) span.innerText = engeCounter;
      // Restore Daily Quest checks
      document.querySelectorAll('#dqList input[type=checkbox]').forEach(cb => {
        const key = cb.getAttribute('data-key');
        cb.checked = localStorage.getItem(key) === '1';
        cb.addEventListener('change', () => {
          localStorage.setItem(key, cb.checked ? '1' : '0');
        });
      });
      updateCountdown();
      setInterval(updateCountdown, 1000);
    });

    function incrementCounter() {
      engeCounter++;
      localStorage.setItem('engeCount', String(engeCounter));
      const span = document.getElementById('engeCount');
      if (span) span.innerText = engeCounter;
    }

    // -------- Countdown --------
    function updateCountdown() {
      const target = new Date("2025-10-09T07:00:00").getTime();
      const now = Date.now();
      const diff = target - now;
      const el = document.getElementById("countdown");
      if (!el) return;
      if (diff <= 0) { el.textContent = "Turen har startet!"; return; }
      const d = Math.floor(diff / 86400000);
      const h = Math.floor((diff % 86400000) / 3600000);
      const m = Math.floor((diff % 3600000) / 60000);
      const s = Math.floor((diff % 60000) / 1000);
      el.textContent = `Nedtelling: ${d}d ${h}t ${m}m ${s}s`;
    }

    // -------- Navigation helpers --------
    function showMainMenu() {
      document.getElementById('mainMenu').classList.remove('hidden');
      document.getElementById('dailyContainer').classList.add('hidden');
      document.getElementById('pageContent').classList.add('hidden');
      document.getElementById('rpgContainer').classList.add('hidden');
      document.getElementById('kontingentContainer').classList.add('hidden');
      document.getElementById('orakelContainer').classList.add('hidden');
      document.getElementById('slowChatContainer').classList.add('hidden');
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function openDailyQuests() {
      document.getElementById('mainMenu').classList.add('hidden');
      document.getElementById('dailyContainer').classList.remove('hidden');
      document.getElementById('pageContent').classList.add('hidden');
      document.getElementById('rpgContainer').classList.add('hidden');
      document.getElementById('kontingentContainer').classList.add('hidden');
      document.getElementById('orakelContainer').classList.add('hidden');
      document.getElementById('slowChatContainer').classList.add('hidden');
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function openFagcraftMenu() {
      const content = document.getElementById('pageContent');
      content.innerHTML = `
        <h2>World of Fagcraft</h2>
        <div class="tile" onclick="startRPG(1)">Kapittel 1: Myklus Oppv√•kning</div>
        <div class="tile" onclick="startRPG(2)">Kapittel 2: Flugten fra Vegard Beid</div>
        <div class="tile" onclick="startRPG(3)">Kapittel 3: Rulles Pr√∏velse</div>
        <div class="tile" onclick="startRPG(4)">Kapittel 4: Bams Hrur</div>
        <div class="backbar"><button class="btn" onclick="showMainMenu()">Tilbake</button></div>
      `;
      content.classList.remove('hidden');
      document.getElementById('mainMenu').classList.add('hidden');
      document.getElementById('dailyContainer').classList.add('hidden');
      document.getElementById('rpgContainer').classList.add('hidden');
      document.getElementById('kontingentContainer').classList.add('hidden');
      document.getElementById('orakelContainer').classList.add('hidden');
      document.getElementById('slowChatContainer').classList.add('hidden');
      window.scrollTo({top:0, behavior:'smooth'});
    }

    // -------- √òlrullett (Orakel) --------
    function openOlRulett(){
      const box = document.getElementById('orakelContainer');
      box.classList.remove('hidden');
      document.getElementById('mainMenu').classList.add('hidden');
      document.getElementById('dailyContainer').classList.add('hidden');
      document.getElementById('pageContent').classList.add('hidden');
      document.getElementById('rpgContainer').classList.add('hidden');
      document.getElementById('kontingentContainer').classList.add('hidden');
      document.getElementById('slowChatContainer').classList.add('hidden');

      box.innerHTML = `
        <h2>√òlrullett</h2>
        <p class="subtle">Trykk for √• f√• en anbefaling fra √òl-orakelet. (Med hilsen fra Myklus-universet üëá)</p>
        <button class="btn" id="rollBeerBtn">Hva skal jeg drikke n√•?</button>
        <div id="beerResult" class="result hidden"></div>
        <div class="backbar"><button class="btn" onclick="showMainMenu()">Tilbake</button></div>
      `;
      document.getElementById('rollBeerBtn').addEventListener('click', ()=>{
        const beer = BEERS[Math.floor(Math.random()*BEERS.length)];
        const saying = ORACLE_SAYINGS[Math.floor(Math.random()*ORACLE_SAYINGS.length)];
        const res = document.getElementById('beerResult');

        // Sync med sjekklisten: finn index og huk av i localStorage
        const idx = BEERS.indexOf(beer);
        if (idx >= 0) {
          const key = "beer_" + idx;
          localStorage.setItem(key, '1');
        }

        res.innerHTML = `<div class="beer-name">üç∫ ${beer}</div><div>${saying}</div>
          <div class="subtle">Valget er ogs√• huket av i ¬´Belgiske √∏l¬ª-sjekklisten.</div>`;
        res.classList.remove('hidden');
      });
      window.scrollTo({top:0, behavior:'smooth'});
    }

    // -------- Slow Chat (samtaletema-generator) --------
    function openSlowChat(){
      const box = document.getElementById('slowChatContainer');
      box.classList.remove('hidden');
      document.getElementById('mainMenu').classList.add('hidden');
      document.getElementById('dailyContainer').classList.add('hidden');
      document.getElementById('pageContent').classList.add('hidden');
      document.getElementById('rpgContainer').classList.add('hidden');
      document.getElementById('kontingentContainer').classList.add('hidden');
      document.getElementById('orakelContainer').classList.add('hidden');

      box.innerHTML = `
        <h2>G√•r samtalen sakte?</h2>
        <p class="subtle">Trykk for √• f√• et tilfeldig tema dere kan gnage p√• ‚Äì gjerne over en Jupiler.</p>
        <button class="btn" id="rollTopicBtn">Gi meg et tema</button>
        <div id="topicResult" class="result hidden"></div>
        <div class="backbar"><button class="btn" onclick="showMainMenu()">Tilbake</button></div>
      `;
      document.getElementById('rollTopicBtn').addEventListener('click', ()=>{
        const topic = SLOW_TOPICS[Math.floor(Math.random()*SLOW_TOPICS.length)];
        const res = document.getElementById('topicResult');
        res.innerHTML = `<div class="beer-name">üí¨ ${topic}</div>
          <div>Mykle ville sagt: ¬´Ta en slurk og utdyp faglig sterkt.¬ª</div>`;
        res.classList.remove('hidden');
      });
      window.scrollTo({top:0, behavior:'smooth'});
    }

    // -------- Content pages --------
    function showPage(page) {
      const wrap = document.getElementById('pageContent');
      wrap.classList.remove('hidden');
      document.getElementById('mainMenu').classList.add('hidden');
      document.getElementById('dailyContainer').classList.add('hidden');
      document.getElementById('rpgContainer').classList.add('hidden');
      document.getElementById('kontingentContainer').classList.add('hidden');
      document.getElementById('orakelContainer').classList.add('hidden');
      document.getElementById('slowChatContainer').classList.add('hidden');

      if (page === 'mykle') {
        wrap.innerHTML = `
          <h2>Mykle</h2>
          <p>Mykle er en maskin p√• alle felt: faglig sterk, sosialt robust og med en legendarisk seighet n√•r det virkelig gjelder. Han drikker ekstreme mengder pils, men holder linja skarpt‚Äîb√•de i teori og praksis.</p>
          <p>P√• tur er Mykle b√•de kompass og katalysator: han finner veien, setter tempoet og s√∏rger for at stemningen aldri d√∏r. N√•r andre famler, leverer Mykle. Fasit.</p>
          <p>Hyllest: m√•tte glassholdet v√¶re st√∏dig, b√∏tteholdet bunnsolid og skumkronen alltid verdig Mykle.</p>
          <div class="backbar"><button class="btn" onclick="showMainMenu()">Tilbake</button></div>
        `;
      } else if (page === 'flyreiser') {
        wrap.innerHTML = `
          <h2>Potensielle flyvninger</h2>
          <p><strong>SAS:</strong> Kvernberget (OSS) kl 06:30 torsdag ‚Üí ankomst Brussel 10:15</p>
          <ul>
            <li>Dag 1 tidlig ‚Äì via OSL (SAS 06:30 ‚Üí BRU 10:15)</li>
            <li>Dag 1 senere ‚Äì via AMS/FRA (TBD)</li>
            <li>Dag 2 alternativer ‚Äì (TBD)</li>
          </ul>
          <div class="backbar"><button class="btn" onclick="showMainMenu()">Tilbake</button></div>
        `;
      } else if (page === 'overnatting') {
        wrap.innerHTML = `
          <h2>Overnatting</h2>
          <p><em>TBD</em> ‚Äì Booking-detaljer legges inn n√•r klart.</p>
          <div class="backbar"><button class="btn" onclick="showMainMenu()">Tilbake</button></div>
        `;
      } else if (page === 'ol') {
        // Belgiske √∏l ‚Äì sjekkliste (lagres lokalt per bruker)
        let html = `<h2>Belgiske √∏l ‚Äì sjekkliste (50)</h2><ul class="checklist">`;
        BEERS.forEach((b,i)=>{
          const key = "beer_"+i;
          const checked = localStorage.getItem(key) === '1' ? 'checked' : '';
          html += `<li><label><input type="checkbox" data-beer="${key}" ${checked}> ${b}</label></li>`;
        });
        html += `</ul><div class="backbar"><button class="btn" onclick="showMainMenu()">Tilbake</button></div>`;
        wrap.innerHTML = html;
        wrap.querySelectorAll('input[type=checkbox][data-beer]').forEach(cb=>{
          cb.addEventListener('change', () => {
            localStorage.setItem(cb.getAttribute('data-beer'), cb.checked ? '1' : '0');
          });
        });
      }
    }

    // -------- Kontingent pages --------
    function showKontingent(type){
      const cont = document.getElementById('kontingentContainer');
      cont.classList.remove('hidden');
      document.getElementById('mainMenu').classList.add('hidden');
      document.getElementById('dailyContainer').classList.add('hidden');
      document.getElementById('pageContent').classList.add('hidden');
      document.getElementById('rpgContainer').classList.add('hidden');
      document.getElementById('orakelContainer').classList.add('hidden');
      document.getElementById('slowChatContainer').classList.add('hidden');

      if(type === 'gir'){
        cont.innerHTML = `
          <h2>Kontingentet gir</h2>
          <div class="gallery">
            <img src="1.jpg" alt="Bilde 1"/>
            <img src="2.jpg" alt="Bilde 2"/>
            <img src="3.jpg" alt="Bilde 3"/>
            <img src="4.jpg" alt="Bilde 4"/>
            <img src="5.jpg" alt="Bilde 5"/>
          </div>
          <div class="backbar"><button class="btn" onclick="showMainMenu()">Tilbake</button></div>
        `;
      }else{
        cont.innerHTML = `
          <h2>Kontingentet tar</h2>
          <div class="gallery">
            <img src="do.jpg" alt="Kontingentet tar"/>
          </div>
          <div class="backbar"><button class="btn" onclick="showMainMenu()">Tilbake</button></div>
        `;
      }
      window.scrollTo({top:0, behavior:'smooth'});
    }
  </script>
</body>
</html>
